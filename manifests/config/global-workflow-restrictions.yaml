apiVersion: v1
kind: ConfigMap
metadata:
  name: argo-workflows-workflow-controller-configmap
  namespace: argo
data:
  workflowRestrictions: |
    templateReferencing: Strict
  workflowDefaults: |
    spec:
      serviceAccountName: workflow-runner
      ttlStrategy:
        secondsAfterCompletion: 86400
        secondsAfterSuccess: 1800
        secondsAfterFailure: 86400
      podGC:
        strategy: OnWorkflowDeletion
      activeDeadlineSeconds: 3600
      securityContext:
        runAsNonRoot: true
        runAsUser: 1000
        fsGroup: 1000
  workflowEvents: |
    enabled: true
  nodeEvents: |
    enabled: true
